<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μƒμ‹κ³Ό μ μ „: λ€ν™”ν• μ²΄μ„Έν¬ λ¶„μ—΄ ν•™μµ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Chosen Palette: Calm Harmony (Slate, Amber, Blue, Emerald) -->
    <!-- Application Structure Plan: A thematic, single-page scrolling application with a sticky navigation bar and a new side progress indicator. The structure prioritizes user interaction over the original linear slide format. Key sections are: Key Concepts (interactive diagram), The Process (clickable step-by-step animation with tooltips), and a Review Quiz. Added GSAP for scroll-triggered animations and micro-interactions to enhance engagement. -->
    <!-- Visualization & Content Choices: 1. Chromosome/DNA Relationship: Goal=Organize, Method=Interactive HTML/CSS diagram, Interaction=Hover/click to reveal info. 2. Mitosis Process: Goal=Change, Method=Embedded YouTube video controlled by the YouTube IFrame API. Interaction=Clicking phase buttons seeks to and plays specific time segments of the video, showing the real process. Justification=Replaces animation with real footage for higher accuracy and visual impact. 3. Scroll Animations: Goal=Engage, Method=GSAP + Intersection Observer, Interaction=Scrolling reveals content. Justification=Creates a modern, dynamic user experience. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        html { scroll-behavior: smooth; }
        body { font-family: 'Noto Sans KR', sans-serif; }
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-top: 5rem;
            padding-bottom: 2rem;
        }
        .phase-button.active {
            background-color: #10b981;
            color: white;
            font-weight: 700;
            transform: scale(1.05);
        }
        #progress-nav a { transition: all 0.3s ease; }
        #progress-nav a.active {
            transform: scale(1.5);
            background-color: #10b981;
        }
        #player-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
        }
        #player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .comparison-table td, .comparison-table th {
            border: 1px solid #e5e7eb;
            padding: 12px;
            text-align: center;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <nav id="progress-nav" class="fixed left-4 top-1/2 -translate-y-1/2 z-50 hidden md:flex flex-col space-y-2">
        <a href="#title" data-section="title" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ λ©"></a>
        <a href="#objectives" data-section="objectives" class="w-3 h-3 bg-slate-300 rounded-full block" title="ν•™μµ λ©ν‘"></a>
        <a href="#intro-activity" data-section="intro-activity" class="w-3 h-3 bg-slate-300 rounded-full block" title="μƒκ° μ—΄κΈ°"></a>
        <a href="#intro-cells" data-section="intro-cells" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ„Έν¬μ™€ μƒλ…"></a>
        <a href="#chromosome-info" data-section="chromosome-info" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ—Όμƒ‰μ²΄ κΈ°λ³Έ"></a>
        <a href="#dna-genes" data-section="dna-genes" class="w-3 h-3 bg-slate-300 rounded-full block" title="DNAμ™€ μ μ „μ"></a>
        <a href="#chromosome-num" data-section="chromosome-num" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ—Όμƒ‰μ²΄ μ"></a>
        <a href="#mitosis-overview" data-section="mitosis-overview" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ²΄μ„Έν¬ λ¶„μ—΄ κ°μ”"></a>
        <a href="#cell-cycle" data-section="cell-cycle" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ„Έν¬ μ£ΌκΈ°"></a>
        <a href="#interphase" data-section="interphase" class="w-3 h-3 bg-slate-300 rounded-full block" title="κ°„κΈ°"></a>
        <a href="#mitosis-phases" data-section="mitosis-phases" class="w-3 h-3 bg-slate-300 rounded-full block" title="λ¶„μ—΄ κ³Όμ • μμƒ"></a>
        <a href="#cytokinesis" data-section="cytokinesis" class="w-3 h-3 bg-slate-300 rounded-full block" title="μ„Έν¬μ§ λ¶„μ—΄"></a>
        <a href="#significance" data-section="significance" class="w-3 h-3 bg-slate-300 rounded-full block" title="μμ"></a>
        <a href="#lab" data-section="lab" class="w-3 h-3 bg-slate-300 rounded-full block" title="κ΄€μ°° μ‹¤ν—"></a>
        <a href="#summary" data-section="summary" class="w-3 h-3 bg-slate-300 rounded-full block" title="ν•µμ‹¬ μ •λ¦¬"></a>
        <a href="#next" data-section="next" class="w-3 h-3 bg-slate-300 rounded-full block" title="λ‹¤μ μ‹κ°„"></a>
    </nav>

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-40">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="text-xl md:text-2xl font-bold text-emerald-600 hover:text-emerald-700">π  μ²΄μ„Έν¬ λ¶„μ—΄ νƒν—</a>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="title" class="text-center">
            <div class="bg-emerald-50 rounded-2xl p-8">
                <h2 class="text-3xl md:text-4xl font-bold mb-2">V. μƒμ‹κ³Ό μ μ „</h2>
                <p class="text-xl md:text-2xl text-slate-600">μ„Έν¬ λ¶„μ—΄κ³Ό μ—Όμƒ‰μ²΄</p>
            </div>
        </section>

        <section id="objectives">
            <h2 class="text-3xl font-bold text-center mb-12">ν•™μµ λ©ν‘</h2>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md space-y-4">
                <ul class="list-disc list-inside space-y-3 text-lg">
                    <li>μ—Όμƒ‰μ²΄μ™€ μ μ „μμ κ΄€κ³„λ¥Ό μ„¤λ…ν•  μ μλ‹¤.</li>
                    <li>μ²΄μ„Έν¬ λ¶„μ—΄μ νΉμ§•μ„ μ—Όμƒ‰μ²΄μ ν–‰λ™μΌλ΅ μ„¤λ…ν•  μ μλ‹¤.</li>
                </ul>
            </div>
        </section>

        <section id="intro-activity">
            <div class="text-center">
                <h2 class="text-3xl font-bold mb-8">μƒκ° μ—΄κΈ°</h2>
                <p class="text-4xl font-bold text-slate-700">λ¶„μ—΄ μ „μΈ μ„Έν¬μ™€ λ¶„μ—΄ μ¤‘μΈ μ„Έν¬μ<br/>μ°¨μ΄μ μ€ λ¬΄μ—‡μΌκΉ?</p>
            </div>
        </section>

        <section id="intro-cells">
            <h2 class="text-3xl font-bold text-center mb-12">μƒλ… ν„μƒμ κΈ°λ³Έ, μ„Έν¬ λ¶„μ—΄</h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md text-center">
                <p class="text-xl">λ¨λ“  μƒλ¬Όμ€ μ„Έν¬λ΅ μ΄λ£¨μ–΄μ Έ μμΌλ©°, μƒλ… ν™λ™μ„ μ„ν•΄ μ„Έν¬λ” λ¶„μ—΄ν•©λ‹λ‹¤. μ²΄μ„Έν¬ λ¶„μ—΄μ€ μƒλ¬Όμ <strong class="text-emerald-600">μ„±μ¥</strong>κ³Ό μ†μƒλ λ¶€λ¶„μ <strong class="text-emerald-600">νλ³µ(μ¬μƒ)</strong>μ— ν•„μμ μΈ κ³Όμ •μ…λ‹λ‹¤.</p>
            </div>
        </section>

        <section id="chromosome-info">
            <h2 class="text-3xl font-bold text-center mb-12">μ—Όμƒ‰μ²΄ (Chromosome)</h2>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-2">μ •μ</h3>
                    <p>λ¶„μ—΄ μ¤‘μΈ μ„Έν¬μ—μ„ μ μ „ λ¬Όμ§μ΄ κΌ¬μ΄κ³  λ­‰μ³μ„ λ§λ“¤μ–΄μ§„ λ§‰λ€ λ¨μ–‘μ κµ¬μ΅°λ¬Όμ…λ‹λ‹¤.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-2">κµ¬μ΅°</h3>
                    <p>λ‘ κ°μ <strong class="text-emerald-600">μ—Όμƒ‰ λ¶„μ²΄</strong>κ°€ μ¤‘μ•™μ <strong class="text-emerald-600">λ™μ›μ²΄</strong>μ— μν•΄ μ—°κ²°λ κµ¬μ΅°μ…λ‹λ‹¤.</p>
                </div>
            </div>
        </section>

        <section id="dna-genes">
            <h2 class="text-3xl font-bold text-center mb-12">DNAμ™€ μ μ „μ</h2>
             <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-2">DNA</h3>
                    <p>μ—Όμƒ‰μ²΄λ¥Ό κµ¬μ„±ν•λ” μ μ „ λ¬Όμ§λ΅, μƒλ¬Όμ νΉμ§•(ν•μ§)μ— λ€ν• λ‹¤μ–‘ν• μ μ „ μ •λ³΄κ°€ λ‹΄κ²¨ μμµλ‹λ‹¤.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-2">μ μ „μ</h3>
                    <p>DNAμ— λ‹΄κ²¨ μλ” κ°κ°μ νΉμ •ν• μ μ „ μ •λ³΄λ¥Ό μλ―Έν•©λ‹λ‹¤.</p>
                </div>
            </div>
        </section>

        <section id="chromosome-num">
            <h2 class="text-3xl font-bold text-center mb-12">μ—Όμƒ‰μ²΄ μμ νΉμ§•</h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md">
                <p class="text-xl text-center mb-4">κ°™μ€ μΆ…μ μƒλ¬Όμ€ μ²΄μ„Έν¬μ— λ™μΌν• μμ μ—Όμƒ‰μ²΄λ¥Ό κ°€μ§‘λ‹λ‹¤. λ³΄ν†µ μ§μ„ μ΄λ£¨κ³  μμ–΄ <strong class="text-emerald-600">2n</strong>μΌλ΅ ν‘κΈ°ν•©λ‹λ‹¤.</p>
                <p class="text-center text-lg">μ: μ‚¬λμ μ²΄μ„Έν¬μ—λ” 23μ, μ΄ 46κ°μ μ—Όμƒ‰μ²΄κ°€ μμµλ‹λ‹¤ (2n=46).</p>
            </div>
        </section>

        <section id="mitosis-overview">
            <h2 class="text-3xl font-bold text-center mb-12">μ²΄μ„Έν¬ λ¶„μ—΄ (Mitosis) κ°μ”</h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md">
                <p class="text-xl text-center">μƒλ¬Όμ λΈμ„ κµ¬μ„±ν•λ” μ²΄μ„Έν¬κ°€ λ‘ κ°μ λ”Έμ„Έν¬λ΅ λ‚λ‰λ” κ³Όμ •μΌλ΅, <strong class="text-emerald-600">ν•µ λ¶„μ—΄</strong>κ³Ό <strong class="text-emerald-600">μ„Έν¬μ§ λ¶„μ—΄</strong>λ΅ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤. ν•µμ‹¬μ€ λ¶„μ—΄ ν›„μ—λ„ μ—Όμƒ‰μ²΄ μκ°€ λ¨μ„Έν¬μ™€ λ™μΌν•κ² μ μ§€λλ‹¤λ” κ²ƒμ…λ‹λ‹¤ (2n β†’ 2n).</p>
            </div>
        </section>

        <section id="cell-cycle">
            <h2 class="text-3xl font-bold text-center mb-12">μ„Έν¬ μ£ΌκΈ° (Cell Cycle)</h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md text-center">
                <p class="text-xl">μ„Έν¬μ μΌμƒμ„ μ„Έν¬ μ£ΌκΈ°λΌκ³  ν•λ©°, λ¶„μ—΄μ„ μ¤€λΉ„ν•λ” <strong class="text-emerald-600">κ°„κΈ°</strong>μ™€ μ‹¤μ  λ¶„μ—΄μ΄ μΌμ–΄λ‚λ” <strong class="text-emerald-600">MκΈ°(λ¶„μ—΄κΈ°)</strong>λ΅ λ‚λ‰©λ‹λ‹¤. λ€λ¶€λ¶„μ μ‹κ°„(μ•½ 90%)μ€ κ°„κΈ°μ— ν•΄λ‹Ήν•©λ‹λ‹¤.</p>
            </div>
        </section>

        <section id="interphase">
            <h2 class="text-3xl font-bold text-center mb-12">κ°„κΈ°: λ¶„μ—΄μ„ μ„ν• μ¤€λΉ„</h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md">
                 <ul class="list-disc list-inside space-y-3 text-lg">
                    <li>μ„Έν¬ μ£ΌκΈ° μ¤‘ κ°€μ¥ κΈ΄ μ‹κΈ°μ…λ‹λ‹¤.</li>
                    <li>μ„Έν¬κ°€ μ„±μ¥ν•κ³  μƒλ… ν™λ™μ„ ν•©λ‹λ‹¤.</li>
                    <li>κ°€μ¥ μ¤‘μ”ν• μ‚¬κ±΄μ€ <strong class="text-emerald-600">DNA λ³µμ </strong>μ…λ‹λ‹¤. μ΄λ΅ μΈν•΄ κ° μ—Όμƒ‰μ²΄λ” λ‘ κ°μ μ—Όμƒ‰ λ¶„μ²΄λ¥Ό κ°–κ² λ©λ‹λ‹¤.</li>
                </ul>
            </div>
        </section>
        
        <section id="mitosis-phases">
            <h2 class="text-3xl font-bold text-center mb-12">ν•µ λ¶„μ—΄ κ³Όμ • μμƒ</h2>
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 flex flex-col space-y-3">
                        <button class="phase-button p-3 rounded-lg text-lg" data-phase="prophase">μ „κΈ°</button>
                        <button class="phase-button p-3 rounded-lg text-lg" data-phase="metaphase">μ¤‘κΈ°</button>
                        <button class="phase-button p-3 rounded-lg text-lg" data-phase="anaphase">ν›„κΈ°</button>
                        <button class="phase-button p-3 rounded-lg text-lg" data-phase="telophase">λ§κΈ°</button>
                    </div>
                    <div class="lg:col-span-2 flex flex-col gap-4">
                        <div class="w-full bg-slate-100 rounded-lg overflow-hidden">
                           <div id="player-container"><div id="player"></div></div>
                        </div>
                        <div id="phase-description" class="w-full p-4 bg-emerald-50 rounded-lg min-h-[100px]">
                            <h4 id="phase-title" class="text-xl font-bold text-emerald-800 mb-2">λ‹¨κ³„λ¥Ό μ„ νƒν•μ„Έμ”</h4>
                            <p id="phase-text" class="text-slate-700">λ²„νΌμ„ ν΄λ¦­ν•λ©΄ ν•΄λ‹Ή λ‹¨κ³„μ μμƒμ΄ μ¬μƒλ©λ‹λ‹¤.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="cytokinesis">
            <h2 class="text-3xl font-bold text-center mb-12">μ„Έν¬μ§ λ¶„μ—΄</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-2">λ™λ¬Ό μ„Έν¬</h3>
                    <p>μ„Έν¬λ§‰μ΄ λ°”κΉ¥μ—μ„ μ•μΌλ΅ μ¤λ―€λΌλ“¤λ©° λ‘ κ°λ΅ λ‚λ‰©λ‹λ‹¤ (μ„Έν¬μ§ λ§μ…).</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-2">μ‹λ¬Ό μ„Έν¬</h3>
                    <p>μ„Έν¬ μ¤‘μ•™μ—μ„ <strong class="text-emerald-600">μ„Έν¬ν</strong>μ΄ λ§λ“¤μ–΄μ Έ λ°”κΉ¥μΌλ΅ μλΌλ©΄μ„ λ‘ κ°λ΅ λ‚λ‰©λ‹λ‹¤.</p>
                </div>
            </div>
        </section>

        <section id="significance">
            <h2 class="text-3xl font-bold text-center mb-12">μ²΄μ„Έν¬ λ¶„μ—΄μ μμ</h2>
             <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md">
                 <ul class="list-disc list-inside space-y-3 text-lg">
                    <li><strong class="text-emerald-600">μƒμ¥</strong>: μ„Έν¬ μλ¥Ό λλ ¤ μƒλ…μ²΄ μ „μ²΄μ λΈμ§‘μ„ ν‚¤μ›λ‹λ‹¤.</li>
                    <li><strong class="text-emerald-600">μ¬μƒ</strong>: μ†μƒλκ±°λ‚ μ£½μ€ μ„Έν¬λ¥Ό μƒλ΅μ΄ μ„Έν¬λ΅ κµμ²΄ν•μ—¬ μƒμ²λ¥Ό μΉμ ν•κ³  μ΅°μ§μ„ μ μ§€ν•©λ‹λ‹¤.</li>
                    <li><strong class="text-emerald-600">μ μ „ μ •λ³΄ λ³΄μ΅΄</strong>: λ¨μ„Έν¬μ μ μ „ μ •λ³΄κ°€ λ”Έμ„Έν¬μ— μ •ν™•ν•κ² μ „λ‹¬λμ–΄ μ μ „μ  μ•μ •μ„±μ„ μ μ§€ν•©λ‹λ‹¤.</li>
                </ul>
            </div>
        </section>
        
        <section id="lab">
            <h2 class="text-3xl font-bold text-center mb-12">μ–‘ν λΏλ¦¬ λ μ„Έν¬ κ΄€μ°°</h2>
             <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <p class="text-center mb-8">μ–‘ν λΏλ¦¬ λ <strong class="text-emerald-600">μƒμ¥μ </strong>μ€ μ„Έν¬ λ¶„μ—΄μ΄ ν™λ°ν•μ—¬ κ΄€μ°°μ— μ©μ΄ν•©λ‹λ‹¤.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="text-center">
                        <img src="http://googleusercontent.com/file_content/5" alt="κ³ μ • κ³Όμ •" class="w-full h-48 object-cover rounded-lg mb-4">
                        <h4 class="font-bold text-lg">1οΈβƒ£ κ³ μ •</h4>
                    </div>
                    <div class="text-center">
                        <img src="http://googleusercontent.com/file_content/4" alt="ν•΄λ¦¬ κ³Όμ •" class="w-full h-48 object-cover rounded-lg mb-4">
                        <h4 class="font-bold text-lg">2οΈβƒ£ ν•΄λ¦¬</h4>
                    </div>
                    <div class="text-center">
                        <img src="http://googleusercontent.com/file_content/3" alt="μ—Όμƒ‰ κ³Όμ •" class="w-full h-48 object-cover rounded-lg mb-4">
                        <h4 class="font-bold text-lg">3οΈβƒ£ μ—Όμƒ‰</h4>
                    </div>
                    <div class="text-center">
                        <img src="http://googleusercontent.com/file_content/2" alt="λ¶„λ¦¬ λ° κ΄€μ°° κ³Όμ •" class="w-full h-48 object-cover rounded-lg mb-4">
                        <h4 class="font-bold text-lg">4οΈβƒ£ λ¶„λ¦¬ λ° κ΄€μ°°</h4>
                    </div>
                </div>
            </div>
        </section>

        <section id="summary">
            <h2 class="text-3xl font-bold text-center mb-12">ν•µμ‹¬ μ •λ¦¬</h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md">
                 <ul class="list-disc list-inside space-y-3 text-lg">
                    <li>μ²΄μ„Έν¬ λ¶„μ—΄ κ²°κ³Ό, λ¨μ„Έν¬μ™€ μ μ „ μ •λ³΄κ°€ λ™μΌν• <strong class="text-emerald-600">λ‘ κ°μ λ”Έμ„Έν¬</strong>κ°€ λ§λ“¤μ–΄μ§‘λ‹λ‹¤.</li>
                    <li>μ—Όμƒ‰μ²΄ μμ—λ” λ³€ν™”κ°€ μ—†μµλ‹λ‹¤ <strong class="text-emerald-600">(2n β†’ 2n)</strong>.</li>
                    <li>μ²΄μ„Έν¬ λ¶„μ—΄μ€ <strong class="text-emerald-600">μƒμ¥</strong>κ³Ό <strong class="text-emerald-600">μ¬μƒ</strong>μ— μ¤‘μ”ν• μ—­ν• μ„ ν•©λ‹λ‹¤.</li>
                </ul>
            </div>
        </section>

        <section id="next">
            <div class="text-center">
                <h2 class="text-3xl font-bold mb-4">λ‹¤μ μ‹κ°„μ— λ°°μΈ λ‚΄μ©</h2>
                <p class="text-2xl text-slate-600">V. μƒμ‹κ³Ό μ μ „ - μƒμ‹ μ„Έν¬κ°€ λ§λ“¤μ–΄μ§€λ” κ³Όμ •μΈ κ°μ λ¶„μ—΄</p>
            </div>
        </section>
    </main>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('section');
            const progressNavLinks = document.querySelectorAll('#progress-nav a');
            let currentSlideIndex = 0;
            let isScrolling = false;

            function updateNav(index) {
                progressNavLinks.forEach((link, i) => {
                    link.classList.toggle('active', i === index);
                });
            }

            function scrollToSlide(index) {
                if (isScrolling || index < 0 || index >= slides.length) return;
                isScrolling = true;
                currentSlideIndex = index;
                slides[index].scrollIntoView({ behavior: 'smooth' });
                updateNav(index);
                setTimeout(() => { isScrolling = false; }, 1000);
            }
            
            document.addEventListener('keydown', (event) => {
                if (event.target.tagName === 'INPUT') return;
                if (event.key === 'ArrowRight') scrollToSlide(currentSlideIndex + 1);
                else if (event.key === 'ArrowLeft') scrollToSlide(currentSlideIndex - 1);
            });
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const index = Array.from(slides).indexOf(entry.target);
                        currentSlideIndex = index;
                        updateNav(index);
                    }
                });
            }, { threshold: 0.6 });

            slides.forEach(slide => observer.observe(slide));
            updateNav(0);

            // YouTube Player Logic
            const phaseButtons = document.querySelectorAll('#mitosis-phases .phase-button');
            const phaseTitle = document.getElementById('phase-title');
            const phaseText = document.getElementById('phase-text');
            let player;
            let intervalId;

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('player', {
                    height: '100%', width: '100%', videoId: 'LM-0RdQbSUs',
                    playerVars: { 'playsinline': 1, 'controls': 0, 'rel': 0 },
                });
            }

            const timeSegments = {
                prophase: { start: 4, end: 9 },
                metaphase: { start: 11, end: 16 },
                anaphase: { start: 21, end: 24 },
                telophase: { start: 26, end: 30 }
            };
            
            const phaseData = {
                prophase: { title: 'μ „κΈ°', text: 'ν•µλ§‰μ΄ μ‚¬λΌμ§€κ³  μ—Όμƒ‰μ²΄κ°€ μ‘μ¶•λλ©° λ°©μ¶”μ‚¬κ°€ ν•μ„±λ©λ‹λ‹¤.'},
                metaphase: { title: 'μ¤‘κΈ°', text: 'μ—Όμƒ‰μ²΄λ“¤μ΄ μ„Έν¬ μ¤‘μ•™μ— λ°°μ—΄λ©λ‹λ‹¤.'},
                anaphase: { title: 'ν›„κΈ°', text: 'μ—Όμƒ‰λ¶„μ²΄λ“¤μ΄ λ¶„λ¦¬λμ–΄ μ–‘ κ·ΉμΌλ΅ μ΄λ™ν•©λ‹λ‹¤.'},
                telophase: { title: 'λ§κΈ°', text: 'λ‘ κ°μ μƒλ΅μ΄ ν•µμ΄ ν•μ„±λκ³  μ„Έν¬μ§ λ¶„μ—΄μ΄ μ‹μ‘λ©λ‹λ‹¤.'}
            };

            function playSegment(phase) {
                if (!player || typeof player.seekTo !== 'function') return;
                const segment = timeSegments[phase];
                if (!segment) return;
                if (intervalId) clearInterval(intervalId);
                player.seekTo(segment.start, true);
                player.playVideo();
                intervalId = setInterval(() => {
                    if (player.getCurrentTime() >= segment.end) {
                        player.pauseVideo();
                        clearInterval(intervalId);
                    }
                }, 250);
            }

            phaseButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const phase = button.dataset.phase;
                    phaseButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    phaseTitle.textContent = phaseData[phase].title;
                    phaseText.textContent = phaseData[phase].text;
                    playSegment(phase);
                });
            });
        });
    </script>
</body>
</html>
