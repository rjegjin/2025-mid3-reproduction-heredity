<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생식과 유전: 대화형 체세포 분열 학습</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        html { scroll-behavior: smooth; }
        body { font-family: 'Noto Sans KR', sans-serif; }
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-top: 5rem;
            padding-bottom: 2rem;
        }
        .phase-button.active {
            background-color: #10b981;
            color: white;
            font-weight: 700;
            transform: scale(1.05);
        }
        #progress-nav a { transition: all 0.3s ease; }
        #progress-nav a.active {
            transform: scale(1.5);
            background-color: #10b981;
        }
        #player-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            height: 0;
        }
        #player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .comparison-table td, .comparison-table th {
            border: 1px solid #e5e7eb;
            padding: 12px;
            text-align: center;
        }
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        .modal-overlay { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease, opacity 0.3s ease; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="modal-overlay" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden opacity-0 modal-overlay" onclick="closeModal()">
        <div id="dna-modal" class="modal-content bg-white rounded-lg p-4 max-w-md w-full transform scale-95 opacity-0 hidden" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-4">DNA 이중 나선 구조</h3>
            <img src="https://upload.wikimedia.org/wikipedia/commons/d/d5/DNA_animation.gif" alt="회전하는 DNA 이중 나선" class="w-full rounded">
            <button onclick="closeModal()" class="mt-4 w-full bg-slate-200 text-slate-800 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 transition-colors">닫기</button>
        </div>
        <div id="gene-modal" class="modal-content bg-white rounded-lg p-4 max-w-lg w-full transform scale-95 opacity-0 hidden" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-4">원형 유전체 지도 (Circular Genome Map) 예시</h3>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Escherichia_coli_K-12_substr._MG1655_circular_genome.svg/1024px-Escherichia_coli_K-12_substr._MG1655_circular_genome.svg.png" alt="대장균의 원형 유전체 지도" class="w-full rounded bg-white">
            <p class="text-xs text-slate-500 mt-2">예시: 대장균(E. coli)의 유전체 지도. 각 색깔은 다른 유전자 그룹을 나타냅니다.</p>
            <button onclick="closeModal()" class="mt-4 w-full bg-slate-200 text-slate-800 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 transition-colors">닫기</button>
        </div>
    </div>
    <nav id="progress-nav" class="fixed left-4 top-1/2 -translate-y-1/2 z-40 hidden md:flex flex-col space-y-2">
        <a href="#title" data-section="title" class="w-3 h-3 bg-slate-300 rounded-full block" title="제목"></a>
        <a href="#objectives" data-section="objectives" class="w-3 h-3 bg-slate-300 rounded-full block" title="학습 목표"></a>
        <a href="#intro-activity" data-section="intro-activity" class="w-3 h-3 bg-slate-300 rounded-full block" title="생각 열기"></a>
        <a href="#intro-cells" data-section="intro-cells" class="w-3 h-3 bg-slate-300 rounded-full block" title="세포와 생명"></a>
        <a href="#chromosome-info" data-section="chromosome-info" class="w-3 h-3 bg-slate-300 rounded-full block" title="염색체 기본"></a>
        <a href="#dna-genes" data-section="dna-genes" class="w-3 h-3 bg-slate-300 rounded-full block" title="DNA와 유전자"></a>
        <a href="#chromosome-num" data-section="chromosome-num" class="w-3 h-3 bg-slate-300 rounded-full block" title="염색체 수"></a>
        <a href="#mitosis-overview" data-section="mitosis-overview" class="w-3 h-3 bg-slate-300 rounded-full block" title="체세포 분열 개요"></a>
        <a href="#cell-cycle" data-section="cell-cycle" class="w-3 h-3 bg-slate-300 rounded-full block" title="세포 주기"></a>
        <a href="#interphase" data-section="interphase" class="w-3 h-3 bg-slate-300 rounded-full block" title="간기"></a>
        <a href="#mitosis-phases" data-section="mitosis-phases" class="w-3 h-3 bg-slate-300 rounded-full block" title="분열 과정 영상"></a>
        <a href="#cytokinesis" data-section="cytokinesis" class="w-3 h-3 bg-slate-300 rounded-full block" title="세포질 분열"></a>
        <a href="#significance" data-section="significance" class="w-3 h-3 bg-slate-300 rounded-full block" title="의의"></a>
        <a href="#lab" data-section="lab" class="w-3 h-3 bg-slate-300 rounded-full block" title="관찰 실험"></a>
        <a href="#summary" data-section="summary" class="w-3 h-3 bg-slate-300 rounded-full block" title="핵심 정리"></a>
        <a href="#next" data-section="next" class="w-3 h-3 bg-slate-300 rounded-full block" title="다음 시간"></a>
    </nav>
    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-30">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center relative">
            <a href="index.html" class="text-xl md:text-2xl font-bold text-emerald-600 hover:text-emerald-700">🏠 체세포 분열 탐험</a>
            <button id="fullscreen-btn" class="p-2 text-slate-500 hover:text-emerald-600 transition-colors" title="전체 화면">
                <svg id="fullscreen-enter-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>
                <svg id="fullscreen-exit-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 0-2-2h-3M3 16h3a2 2 0 0 0 2-2v-3"/></svg>
            </button>
        </nav>
    </header>
    <main class="container mx-auto p-4 md:p-8">
        <section id="title" class="text-center"><!-- ... content ... --></section>
        <section id="objectives"><!-- ... content ... --></section>
        <section id="intro-activity"><!-- ... content ... --></section>
        <section id="intro-cells"><!-- ... content ... --></section>
        <section id="chromosome-info"><!-- ... content ... --></section>
        <section id="dna-genes"><!-- ... content ... --></section>
        <section id="chromosome-num"><!-- ... content ... --></section>
        <section id="mitosis-overview"><!-- ... content ... --></section>
        <section id="cell-cycle"><!-- ... content ... --></section>
        <section id="interphase"><!-- ... content ... --></section>
        <section id="mitosis-phases"><!-- ... content ... --></section>
        <section id="cytokinesis"><!-- ... content ... --></section>
        <section id="significance"><!-- ... content ... --></section>
        <section id="lab"><!-- ... content ... --></section>
        <section id="summary"><!-- ... content ... --></section>
        <section id="next"><!-- ... content ... --></section>
    </main>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ... all other JS logic ...
            
            // Fullscreen API Logic
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const enterIcon = document.getElementById('fullscreen-enter-icon');
            const exitIcon = document.getElementById('fullscreen-exit-icon');

            function toggleFullScreen() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        alert(`전체 화면 모드를 시작할 수 없습니다: ${err.message}`);
                    });
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    }
                }
            }

            function updateFullscreenIcon() {
                if (document.fullscreenElement) {
                    enterIcon.classList.add('hidden');
                    exitIcon.classList.remove('hidden');
                } else {
                    enterIcon.classList.remove('hidden');
                    exitIcon.classList.add('hidden');
                }
            }

            fullscreenBtn.addEventListener('click', toggleFullScreen);
            document.addEventListener('fullscreenchange', updateFullscreenIcon);
        });
    </script>
</body>
</html>
