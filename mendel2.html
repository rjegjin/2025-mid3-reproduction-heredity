<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V. ìƒì‹ê³¼ ìœ ì „ - ë…ë¦½ì˜ ë²•ì¹™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .slide {
            display: none;
            min-height: 80vh;
        }
        .slide.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .punnett-square {
            border-collapse: collapse;
            margin: auto;
            font-size: 1.1rem;
        }
        .punnett-square th, .punnett-square td {
            border: 2px solid #9ca3af;
            width: 80px;
            height: 80px;
            text-align: center;
            vertical-align: middle;
        }
        .punnett-square th { background-color: #f3f4f6; }
        .bg-round-yellow { background-color: #fef08a; } /* yellow-200 */
        .bg-round-green { background-color: #d9f99d; } /* lime-200 */
        .bg-wrinkled-yellow { background-color: #fde68a; } /* amber-200 */
        .bg-wrinkled-green { background-color: #bef264; } /* lime-300 */

        .quiz-option { transition: all 0.2s ease-in-out; }
        .quiz-option.selected { transform: scale(1.05); border-width: 2px; }
        .quiz-option.correct { background-color: #34d399; color: white; border-color: #059669; }
        .quiz-option.incorrect { background-color: #f87171; color: white; border-color: #dc2626; }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <div class="container mx-auto p-4 max-w-5xl">
        <div id="presentation-container" class="bg-white rounded-2xl shadow-2xl p-6 md:p-10 relative">
            
            <!-- Slides will be injected here by JS -->

            <!-- Navigation -->
            <div class="absolute bottom-4 left-4 flex items-center">
                <span id="slide-counter" class="text-lg font-semibold text-slate-600"></span>
            </div>
            <div class="absolute bottom-4 right-4 flex gap-3">
                <button id="prev-btn" class="px-5 py-2 bg-slate-300 text-slate-700 rounded-lg hover:bg-slate-400 transition disabled:opacity-50 disabled:cursor-not-allowed">
                    <i class="fas fa-arrow-left"></i> ì´ì „
                </button>
                <button id="next-btn" class="px-5 py-2 bg-lime-500 text-white rounded-lg hover:bg-lime-600 transition disabled:opacity-50 disabled:cursor-not-allowed">
                    ë‹¤ìŒ <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        const slidesData = [
            // Slide 1
            {
                type: 'title',
                title: 'V. ìƒì‹ê³¼ ìœ ì „',
                subtitle: '2. ìœ ì „ (2) ë©˜ë¸ì´ ë°íŒ ìœ ì „ ì›ë¦¬ â‘¢',
                main: 'ë…ë¦½ì˜ ë²•ì¹™',
                image: 'images/mendel_in_garden.jpg'
            },
            // Slide 2
            {
                type: 'list',
                title: 'ğŸ¯ í•™ìŠµ ëª©í‘œ',
                items: [
                    '<strong>ë…ë¦½ì˜ ë²•ì¹™</strong>ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.',
                    'ë‘ ìŒ ì´ìƒì˜ ëŒ€ë¦½ í˜•ì§ˆì´ í•¨ê»˜ ìœ ì „ë  ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ê²°ê³¼ë¥¼ í•´ì„í•  ìˆ˜ ìˆë‹¤.',
                    'ë©˜ë¸ì˜ ìœ ì „ ì‹¤í—˜ì´ ì§€ë‹Œ ê³¼í•™ì  ì˜ì˜ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.'
                ]
            },
            // Slide 3
            {
                type: 'text_image',
                title: 'ğŸ¤” ë„ì… ì§ˆë¬¸: ë‘ ê°€ì§€ í˜•ì§ˆì´ ë™ì‹œì— ìœ ì „ëœë‹¤ë©´?',
                text: [
                    "ì™„ë‘ì˜ ì”¨ ëª¨ì–‘(ë‘¥ê¸€ë‹¤/ì£¼ë¦„ì§€ë‹¤)ê³¼ ì”¨ ìƒ‰ê¹”(í™©ìƒ‰/ë…¹ìƒ‰)ì€ ê°ê° ìœ ì „ë©ë‹ˆë‹¤.",
                    "ë§Œì•½ ì´ ë‘ ê°€ì§€ í˜•ì§ˆì´ ë™ì‹œì— ìœ ì „ëœë‹¤ë©´, ì„œë¡œì—ê²Œ ì˜í–¥ì„ ì¤„ê¹Œìš”? ì•„ë‹ˆë©´ ê°ê° ë”°ë¡œ ìœ ì „ë ê¹Œìš”?",
                    "<br><strong>'í°ìƒ‰ ì£¼ì‚¬ìœ„ë¥¼ ë‘ ë²ˆ ë˜ì ¸ ëª¨ë‘ ì§ìˆ˜ê°€ ë‚˜ì™”ì„ ë•Œ, íŒŒë€ìƒ‰ ì£¼ì‚¬ìœ„ë„ ì§ìˆ˜ê°€ ë‚˜ì˜¬ ê°€ëŠ¥ì„±ì´ ë†’ì„ê¹Œ?'</strong>",
                    "í° ì£¼ì‚¬ìœ„ì˜ ê²°ê³¼ê°€ íŒŒë€ ì£¼ì‚¬ìœ„ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë“¯, ì™„ë‘ì˜ ëª¨ì–‘ ìœ ì „ê³¼ ìƒ‰ê¹” ìœ ì „ì€ ì„œë¡œ ì˜í–¥ì„ ì¤„ê¹Œìš”?"
                ],
                image: 'https://placehold.co/400x300/e2e8f0/64748b?text=ì£¼ì‚¬ìœ„+ì´ë¯¸ì§€'
            },
            // Slide 4
            {
                type: 'text_image',
                title: 'ğŸ”¬ ë©˜ë¸ì˜ ì‹¤í—˜ ì„¤ê³„',
                text: [
                    "<strong>â€¢ ì‹¤í—˜ ëª©ì :</strong> ì™„ë‘ì˜ ëª¨ì–‘ê³¼ ìƒ‰ê¹”, ì¦‰ ë‘ ìŒì˜ ëŒ€ë¦½ í˜•ì§ˆì´ ë™ì‹œì— ìœ ì „ë  ë•Œ ì„œë¡œ ì˜í–¥ì„ ì£¼ëŠ”ì§€ ì•Œì•„ë³´ê¸° ìœ„í•œ ì‹¤í—˜.",
                    "<strong>â€¢ ì‹¤í—˜ ê³¼ì •:</strong>",
                    "1. <strong>ì–´ë²„ì´(P):</strong> ìˆœì¢… 'ë‘¥ê¸€ê³  í™©ìƒ‰' ì™„ë‘ Ã— ìˆœì¢… 'ì£¼ë¦„ì§€ê³  ë…¹ìƒ‰' ì™„ë‘ êµë°°.",
                    "2. <strong>ìì† 1ëŒ€(F1):</strong> ì–»ì–´ì§„ F1ì„ ìê°€ ìˆ˜ë¶„.",
                    "3. <strong>ìì† 2ëŒ€(F2):</strong> ì–»ì–´ì§„ F2ì˜ í‘œí˜„í˜•ê³¼ ë¹„ìœ¨ì„ ë¶„ì„."
                ],
                image: 'images/1st_exp_breeding_P.jpg'
            },
            // Slide 5
            {
                type: 'text_image',
                title: 'ğŸ“Š ì‹¤í—˜ ê²°ê³¼ (1) - ìì† 1ëŒ€(F1)',
                text: [
                    "<strong>â€¢ ì–´ë²„ì´(P):</strong> ìˆœì¢… ë‘¥ê¸€ê³  í™©ìƒ‰ ì™„ë‘ Ã— ìˆœì¢… ì£¼ë¦„ì§€ê³  ë…¹ìƒ‰ ì™„ë‘",
                    "<strong>â€¢ êµë°° ê²°ê³¼ (F1):</strong> <strong>ëª¨ë‘ ë‘¥ê¸€ê³  í™©ìƒ‰ì¸ ì™„ë‘</strong>ë§Œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.",
                    "<br><strong>â€¢ í•´ì„:</strong>",
                    "ì”¨ì˜ ëª¨ì–‘ì—ì„œëŠ” 'ë‘¥ê·¼ ê²ƒ'ì´ ìš°ì„±, ì”¨ì˜ ìƒ‰ê¹”ì—ì„œëŠ” 'í™©ìƒ‰'ì´ ìš°ì„±ì…ë‹ˆë‹¤. <br>â†’ <strong>ìš°ì—´ì˜ ì›ë¦¬</strong>ê°€ ê° í˜•ì§ˆì— ë…ë¦½ì ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤."
                ],
                image: 'images/law_of_segregation.jpg'
            },
            // Slide 6
            {
                type: 'text_image',
                title: 'ğŸ§¬ ìœ ì „ìí˜•ìœ¼ë¡œ ì´í•´í•˜ê¸° (F1)',
                text: [
                    "â€¢ ë‘¥ê·¼ ëª¨ì–‘ ìœ ì „ì: <strong>R</strong> / ì£¼ë¦„ì§„ ëª¨ì–‘ ìœ ì „ì: <strong>r</strong>",
                    "â€¢ í™©ìƒ‰ ìœ ì „ì: <strong>Y</strong> / ë…¹ìƒ‰ ìœ ì „ì: <strong>y</strong>",
                    "<br>â€¢ ì–´ë²„ì´(P) ìœ ì „ìí˜•: <strong>RRYY Ã— rryy</strong>",
                    "â€¢ ì–´ë²„ì´ê°€ ë§Œë“œëŠ” ìƒì‹ì„¸í¬: <strong>RY</strong> ì™€ <strong>ry</strong>",
                    "â€¢ ìì† 1ëŒ€(F1) ìœ ì „ìí˜•: <strong>RrYy</strong>",
                    "â€¢ í‘œí˜„í˜•ì€ ìš°ì„±ì¸ 'ë‘¥ê¸€ê³  í™©ìƒ‰'ìœ¼ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤."
                ],
                image: 'images/homozygote_heterozygote.jpg'
            },
            // Slide 7
            {
                type: 'text_image',
                title: 'ğŸ“Š ì‹¤í—˜ ê²°ê³¼ (2) - ìì† 2ëŒ€(F2)',
                 text: [
                    "ìì† 1ëŒ€(RrYy)ë¥¼ ìê°€ìˆ˜ë¶„í•˜ì—¬ <strong>ì´ 556ê°œ</strong>ì˜ ìì† 2ëŒ€ ì™„ë‘ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.",
                    "â€¢ ë‘¥ê¸€ê³  í™©ìƒ‰ ì™„ë‘ : 315ê°œ",
                    "â€¢ ë‘¥ê¸€ê³  ë…¹ìƒ‰ ì™„ë‘ : 108ê°œ",
                    "â€¢ ì£¼ë¦„ì§€ê³  í™©ìƒ‰ ì™„ë‘ : 101ê°œ",
                    "â€¢ ì£¼ë¦„ì§€ê³  ë…¹ìƒ‰ ì™„ë‘ : 32ê°œ",
                    "<br><strong>í‘œí˜„í˜•ì˜ ë¹„ìœ¨ â‰ˆ 9 : 3 : 3 : 1</strong>"
                ],
                image: 'images/f2_generation_ratio.jpg'
            },
            // Slide 8
            {
                type: 'text_columns',
                title: 'ğŸ“ˆ 9:3:3:1 ë¹„ìœ¨ì˜ ì˜ë¯¸ (1) - ê° í˜•ì§ˆ ë”°ë¡œ ë³´ê¸°',
                columns: [
                    {
                        title: 'ì”¨ ëª¨ì–‘ìœ¼ë¡œë§Œ ë¶„ì„',
                        text: `â€¢ ë‘¥ê·¼ ì™„ë‘: (315 + 108) = 423ê°œ
                               <br>â€¢ ì£¼ë¦„ì§„ ì™„ë‘: (101 + 32) = 133ê°œ
                               <br>â†’ ë‘¥ê·¼ ì™„ë‘ : ì£¼ë¦„ì§„ ì™„ë‘ â‰ˆ <strong>3 : 1</strong>`
                    },
                    {
                        title: 'ì”¨ ìƒ‰ê¹”ë¡œë§Œ ë¶„ì„',
                        text: `â€¢ í™©ìƒ‰ ì™„ë‘: (315 + 101) = 416ê°œ
                               <br>â€¢ ë…¹ìƒ‰ ì™„ë‘: (108 + 32) = 140ê°œ
                               <br>â†’ í™©ìƒ‰ ì™„ë‘ : ë…¹ìƒ‰ ì™„ë‘ â‰ˆ <strong>3 : 1</strong>`
                    }
                ]
            },
            // Slide 9
            {
                type: 'text_image',
                title: 'ğŸ’¡ 9:3:3:1 ë¹„ìœ¨ì˜ ì˜ë¯¸ (2) - ê²°ë¡ ',
                text: [
                    "ë‘ í˜•ì§ˆì„ í•¨ê»˜ ìœ ì „ì‹œì¼œë„ ê°ê°ì˜ í˜•ì§ˆì€ <strong>ë¶„ë¦¬ì˜ ë²•ì¹™</strong>ì— ë”°ë¼ 3:1ì˜ ë¹„ìœ¨ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.",
                    "<br><strong>ê²°ë¡ : ì™„ë‘ì˜ ëª¨ì–‘ ìœ ì „ê³¼ ìƒ‰ê¹” ìœ ì „ì€ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ìœ ì „ëœë‹¤!</strong>"
                ],
                image: 'images/Meiosis_main_steps.svg'
            },
            // Slide 12
            {
                type: 'text_image',
                title: 'âœ… ê²°ë¡ : ë‘ ìœ ì „ìëŠ” ë‹¤ë¥¸ ì—¼ìƒ‰ì²´ì— ìˆë‹¤! (ë…ë¦½)',
                text: [
                    "ì™„ë‘ì˜ ëª¨ì–‘ ìœ ì „ìì™€ ìƒ‰ê¹” ìœ ì „ìëŠ” ì„œë¡œ ë‹¤ë¥¸ ìƒë™ ì—¼ìƒ‰ì²´ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.",
                    "ê°ìˆ˜ ë¶„ì—´(ìƒì‹ì„¸í¬ í˜•ì„±) ì‹œ, ê° ì—¼ìƒ‰ì²´ ìŒì€ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬ë©ë‹ˆë‹¤.",
                    "ë”°ë¼ì„œ ìì† 1ëŒ€(RrYy)ëŠ” <strong>ë„¤ ì¢…ë¥˜ì˜ ìƒì‹ì„¸í¬</strong>ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
                ],
                image: 'images/homologus_chromosome.jpeg'
            },
            // Slide 13
            {
                type: 'text_image',
                title: 'ğŸŒ± ìì† 1ëŒ€(RrYy)ì˜ ìƒì‹ì„¸í¬ í˜•ì„± ê³¼ì •',
                text: [
                    "ëª¨ì–‘ ìœ ì „ì(R, r)ì™€ ìƒ‰ê¹” ìœ ì „ì(Y, y)ê°€ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬ë©ë‹ˆë‹¤.",
                    "ê²°ê³¼ì ìœ¼ë¡œ ë„¤ ì¢…ë¥˜ì˜ ìƒì‹ì„¸í¬ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.",
                    "<div class='text-2xl font-bold text-center mt-4 p-4 bg-lime-100 rounded-lg'>RY, Ry, rY, ry</div>",
                    "ì´ ë„¤ ì¢…ë¥˜ì˜ ìƒì‹ì„¸í¬ëŠ” <strong>1 : 1 : 1 : 1</strong> ì˜ ë™ì¼í•œ ë¹„ìœ¨ë¡œ ìƒì„±ë©ë‹ˆë‹¤."
                ],
                image: 'images/gametes1_med.jpeg'
            },
             // Slide 14
            {
                type: 'definition',
                title: 'ğŸ“œ ì›ë¦¬ 3: ë…ë¦½ì˜ ë²•ì¹™',
                term: 'Law of Independent Assortment',
                definition: 'ë‘ ìŒ ì´ìƒì˜ ëŒ€ë¦½ í˜•ì§ˆì´ í•¨ê»˜ ìœ ì „ë  ë•Œ, ê°ê°ì˜ í˜•ì§ˆì„ ê²°ì •í•˜ëŠ” ëŒ€ë¦½ìœ ì „ìë“¤ì€ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ìœ ì „ë˜ëŠ” í˜„ìƒ.',
                extra: '<strong>í•µì‹¬ ì¦ê±°:</strong> ìì† 2ëŒ€(F2)ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” í‘œí˜„í˜•ì˜ ë¶„ë¦¬ë¹„ <strong>9 : 3 : 3 : 1</strong> ì€ ë…ë¦½ì˜ ë²•ì¹™ì„ ì¦ëª…í•˜ëŠ” ì¤‘ìš”í•œ ì‹¤í—˜ì  ì¦ê±°ì…ë‹ˆë‹¤.'
            },
            // Slide 15
            {
                type: 'punnett',
                title: 'âšƒ í¼ë„· ì‚¬ê°í˜•ìœ¼ë¡œ ë³´ëŠ” ìì† 2ëŒ€ (F2)ì˜ ì¡°í•©'
            },
            // Slide 17
            {
                type: 'punnett_result',
                title: 'ğŸ¨ ìì† 2ëŒ€(F2)ì˜ í‘œí˜„í˜• ë¶„ì„',
                text: [
                    "â€¢ <span class='p-1 rounded bg-round-yellow'><strong>ë‘¥ê¸€ê³  í™©ìƒ‰ (R_Y_): 9ê°œ</strong></span>",
                    "â€¢ <span class='p-1 rounded bg-round-green'><strong>ë‘¥ê¸€ê³  ë…¹ìƒ‰ (R_yy): 3ê°œ</strong></span>",
                    "â€¢ <span class='p-1 rounded bg-wrinkled-yellow'><strong>ì£¼ë¦„ì§€ê³  í™©ìƒ‰ (rrY_): 3ê°œ</strong></span>",
                    "â€¢ <span class='p-1 rounded bg-wrinkled-green'><strong>ì£¼ë¦„ì§€ê³  ë…¹ìƒ‰ (rryy): 1ê°œ</strong></span>",
                    "<br><strong>ê²°ë¡ : í‘œí˜„í˜•ì˜ ë¹„ëŠ” 9 : 3 : 3 : 1 ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</strong>"
                ]
            },
             // Slide 18
            {
                type: 'text_image',
                title: 'ğŸ”¬ ë…ë¦½ì˜ ë²•ì¹™ê³¼ ê°ìˆ˜ ë¶„ì—´',
                text: [
                    'ë…ë¦½ì˜ ë²•ì¹™ì€ <strong>ê°ìˆ˜ ë¶„ì—´</strong> ê³¼ì •ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                    'â€¢ <strong>ê°ìˆ˜ 1ë¶„ì—´ ì¤‘ê¸°:</strong> ëª¨ì–‘ ìœ ì „ì ìŒê³¼ ìƒ‰ê¹” ìœ ì „ì ìŒì´ <strong>ë…ë¦½ì ìœ¼ë¡œ</strong> ì„¸í¬ ì¤‘ì•™ì— ë°°ì—´ë©ë‹ˆë‹¤.',
                    'â€¢ <strong>ê°ìˆ˜ 1ë¶„ì—´ í›„ê¸°:</strong> ìƒë™ ì—¼ìƒ‰ì²´ë“¤ì´ <strong>ë…ë¦½ì ìœ¼ë¡œ</strong> ë¶„ë¦¬ë˜ì–´ ì–‘ê·¹ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.',
                    'ì´ëŸ¬í•œ ë¬´ì‘ìœ„ ë°°ì—´ê³¼ ë¶„ë¦¬ ë•Œë¬¸ì— ë‹¤ì–‘í•œ ì¡°í•©ì˜ ìƒì‹ì„¸í¬ê°€ í˜•ì„±ë©ë‹ˆë‹¤.'
                ],
                image: 'images/crossing-over-meiosis-diagram.png'
            },
            // Slide 20
            {
                type: 'table',
                title: 'ğŸ“š ë©˜ë¸ ìœ ì „ ë²•ì¹™ ì¢…í•© ì •ë¦¬',
                headers: ['ì›ë¦¬', 'í•µì‹¬ ë‚´ìš©', 'ê´€ë ¨ ì‹¤í—˜', 'ì£¼ìš” ë¹„ìœ¨'],
                rows: [
                    ['ìš°ì—´ì˜ ì›ë¦¬', 'ìˆœì¢… ëŒ€ë¦½ í˜•ì§ˆ êµë°° ì‹œ, ì¡ì¢… 1ëŒ€ì—ì„œ ìš°ì„± í˜•ì§ˆë§Œ ë‚˜íƒ€ë‚¨.', 'í•œ ìŒ êµë°°', '-'],
                    ['ë¶„ë¦¬ì˜ ë²•ì¹™', 'ìƒì‹ì„¸í¬ í˜•ì„± ì‹œ ëŒ€ë¦½ìœ ì „ìê°€ ë¶„ë¦¬ë˜ì–´ ë‹¤ë¥¸ ìƒì‹ì„¸í¬ë¡œ ë“¤ì–´ê°.', 'í•œ ìŒ êµë°° í›„ ìê°€ìˆ˜ë¶„', 'F2 í‘œí˜„í˜• 3 : 1'],
                    ['ë…ë¦½ì˜ ë²•ì¹™', 'ë‘ ìŒ ì´ìƒì˜ í˜•ì§ˆì´ ìœ ì „ë  ë•Œ, ê° í˜•ì§ˆì€ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ìœ ì „ë¨.', 'ë‘ ìŒ êµë°° í›„ ìê°€ìˆ˜ë¶„', 'F2 í‘œí˜„í˜• 9 : 3 : 3 : 1']
                ]
            },
            // Slide 21
            {
                type: 'list',
                title: 'ğŸ’¡ ë©˜ë¸ ìœ ì „ ì—°êµ¬ì˜ ê³¼í•™ì  ì˜ì˜',
                items: [
                    '<strong>ê³¼í•™ì  íƒêµ¬ ë°©ë²• ì‚¬ìš©:</strong> ê°€ì„¤ì„ ì„¸ìš°ê³  ì‹¤í—˜ì„ í†µí•´ ê²€ì¦í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©.',
                    '<strong>í†µê³„ì  ë¶„ì„:</strong> ë§ì€ ìˆ˜ì˜ ìì†ì„ ì–»ì–´ ê²°ê³¼ë¥¼ í†µê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ê·œì¹™ì„±ì„ ë°œê²¬.',
                    '<strong>ìœ ì „í•™ì˜ ê¸°ì´ˆ ë§ˆë ¨:</strong> ìœ ì „ í˜„ìƒì„ ì„¤ëª…í•˜ëŠ” ê¸°ë³¸ ì›ë¦¬(ìœ ì „ ì¸ì, ìš°ì—´, ë¶„ë¦¬, ë…ë¦½)ë¥¼ ìµœì´ˆë¡œ ì œì‹œ.'
                ]
            },
            // Slide 22
            {
                type: 'quiz',
                title: 'ğŸ“ ê°œë… í™•ì¸ í€´ì¦ˆ (1)',
                question: "2ìŒ ì´ìƒì˜ ëŒ€ë¦½ ìœ ì „ìê°€ ì„œë¡œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê³  ê°ê° ë¶„ë¦¬ì˜ ë²•ì¹™ì— ë”°ë¼ ìœ ì „ë˜ëŠ” ì›ë¦¬ë¥¼ ( â‘  )ì˜ ë²•ì¹™ì´ë¼ê³  í•œë‹¤. ì´ ë²•ì¹™ì„ ì¦ëª…í•˜ëŠ” ìì† 2ëŒ€ì˜ í‘œí˜„í˜• ë¶„ë¦¬ë¹„ëŠ” ( â‘¡ ) ì´ë‹¤.",
                options: [
                    "â‘  ë…ë¦½ â‘¡ 3:1",
                    "â‘  ë¶„ë¦¬ â‘¡ 9:3:3:1",
                    "â‘  ë…ë¦½ â‘¡ 9:3:3:1",
                    "â‘  ìš°ì—´ â‘¡ 3:1"
                ],
                answer: 2 // index of correct answer
            },
            // Slide 23
            {
                type: 'quiz',
                title: 'ğŸ“ ê°œë… í™•ì¸ í€´ì¦ˆ (2)',
                question: "ìœ ì „ìí˜•ì´ RrYyì¸ ì™„ë‘ë¥¼ ìê°€ ìˆ˜ë¶„í•˜ì—¬ ì–»ì€ ìì†(F2) ì¤‘ì—ì„œ, í‘œí˜„í˜•ì´ 'ë‘¥ê¸€ê³  ë…¹ìƒ‰'ì¼ í™•ë¥ ì€ ì–¼ë§ˆì¼ê¹Œìš”?",
                options: ["1/16", "3/16", "9/16", "1/4"],
                answer: 1
            },
            // Slide 29
            {
                type: 'list',
                title: 'ğŸ“‹ í•™ìŠµ ë‚´ìš© ìš”ì•½',
                items: [
                    'ë©˜ë¸ì€ ë‘ ìŒì˜ ëŒ€ë¦½ í˜•ì§ˆ(ëª¨ì–‘, ìƒ‰ê¹”) ìœ ì „ ì‹¤í—˜ì„ í†µí•´ <strong>ë…ë¦½ì˜ ë²•ì¹™</strong>ì„ ë°œê²¬í–ˆë‹¤.',
                    'ë‘ í˜•ì§ˆì´ ë…ë¦½ì ìœ¼ë¡œ ìœ ì „ë  ë•Œ, ìì† 1ëŒ€(RrYy)ëŠ” 4ì¢…ë¥˜ì˜ ìƒì‹ì„¸í¬(RY, Ry, rY, ry)ë¥¼ <strong>1:1:1:1ì˜ ë¹„ìœ¨</strong>ë¡œ ë§Œë“ ë‹¤.',
                    'ê·¸ ê²°ê³¼, ìì† 2ëŒ€ì—ì„œëŠ” í‘œí˜„í˜•ì´ <strong>9 : 3 : 3 : 1</strong> ì´ë¼ëŠ” ì¼ì •í•œ ë¹„ìœ¨ë¡œ ë‚˜íƒ€ë‚œë‹¤.',
                    'ë…ë¦½ì˜ ë²•ì¹™ì€ ìœ ì „ìê°€ <strong>ì„œë¡œ ë‹¤ë¥¸ ìƒë™ ì—¼ìƒ‰ì²´</strong>ì— ìˆì„ ë•Œ ì„±ë¦½í•˜ë©°, ì´ëŠ” ê°ìˆ˜ ë¶„ì—´ ê³¼ì •ìœ¼ë¡œ ì„¤ëª…ëœë‹¤.'
                ]
            },
            // Slide 30
            {
                type: 'final',
                title: 'ğŸ‘ ë§ˆë¬´ë¦¬',
                text: '<strong>ë‹¤ìŒ ì‹œê°„ ì˜ˆê³ :</strong> ì‚¬ëŒì˜ ìœ ì „ ì—°êµ¬ ë°©ë²•ê³¼ ë‹¤ì–‘í•œ ìœ ì „ í˜„ìƒ (ê°€ê³„ë„ ë¶„ì„, í˜ˆì•¡í˜• ìœ ì „, ìƒ‰ë§¹ ìœ ì „ ë“±)',
                closing: 'ê°ì‚¬í•©ë‹ˆë‹¤.'
            }
        ];

        let currentSlide = 0;
        const presentationContainer = document.getElementById('presentation-container');
        const slideCounter = document.getElementById('slide-counter');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        function createPunnettSquare(colored = false) {
            const gametes = ['RY', 'Ry', 'rY', 'ry'];
            let table = '<table class="punnett-square"><thead><tr><th></th>';
            gametes.forEach(g => table += `<th>${g}</th>`);
            table += '</tr></thead><tbody>';

            const colorMap = {
                'RRYY': 'bg-round-yellow', 'RRYy': 'bg-round-yellow', 'RrYY': 'bg-round-yellow', 'RrYy': 'bg-round-yellow',
                'RRyy': 'bg-round-green', 'Rryy': 'bg-round-green',
                'rrYY': 'bg-wrinkled-yellow', 'rrYy': 'bg-wrinkled-yellow',
                'rryy': 'bg-wrinkled-green'
            };

            gametes.forEach(rowGamete => {
                table += `<tr><th>${rowGamete}</th>`;
                gametes.forEach(colGamete => {
                    const genotype = [colGamete[0], rowGamete[0]].sort().join('') + [colGamete[1], rowGamete[1]].sort().join('');
                    const colorClass = colored ? colorMap[genotype] : '';
                    table += `<td class="${colorClass}">${genotype}</td>`;
                });
                table += '</tr>';
            });
            table += '</tbody></table>';
            return table;
        }


        function renderSlides() {
            let content = '';
            slidesData.forEach((slide, index) => {
                let slideContent = '';
                switch(slide.type) {
                    case 'title':
                        slideContent = `<h2 class="text-3xl font-bold text-slate-500">${slide.title}</h2>
                                      <h3 class="text-2xl text-slate-500">${slide.subtitle}</h3>
                                      <h1 class="text-6xl font-black text-lime-600 my-4">${slide.main}</h1>
                                      <img src="${slide.image}" class="max-w-md mx-auto rounded-lg shadow-lg mt-8">`;
                        break;
                    case 'list':
                        slideContent = `<h2 class="text-4xl font-bold mb-8">${slide.title}</h2>
                                      <ul class="text-2xl list-disc list-inside space-y-4 text-left">
                                          ${slide.items.map(item => `<li>${item}</li>`).join('')}
                                      </ul>`;
                        break;
                    case 'text_image':
                        slideContent = `<h2 class="text-4xl font-bold mb-8 text-center">${slide.title}</h2>
                                       <div class="grid md:grid-cols-2 gap-8 items-center w-full">
                                           <div class="text-xl space-y-3">${slide.text.join('<br>')}</div>
                                           <img src="${slide.image}" class="rounded-lg shadow-md mx-auto">
                                       </div>`;
                        break;
                    case 'text_columns':
                         slideContent = `<h2 class="text-4xl font-bold mb-8 text-center">${slide.title}</h2>
                                         <div class="grid md:grid-cols-2 gap-8 w-full">
                                            ${slide.columns.map(col => `<div class="bg-slate-100 p-6 rounded-lg">
                                                <h3 class="text-2xl font-bold mb-4">${col.title}</h3>
                                                <p class="text-xl">${col.text}</p>
                                            </div>`).join('')}
                                         </div>`;
                         break;
                    case 'definition':
                         slideContent = `<h2 class="text-4xl font-bold mb-8 text-center">${slide.title}</h2>
                                         <div class="w-full max-w-3xl bg-lime-50 p-8 rounded-xl border-l-8 border-lime-500">
                                             <p class="text-xl text-slate-600">${slide.term}</p>
                                             <p class="text-2xl font-semibold my-2">${slide.definition}</p>
                                             <p class="text-lg mt-4">${slide.extra}</p>
                                         </div>`;
                         break;
                    case 'punnett':
                        slideContent = `<h2 class="text-4xl font-bold mb-8 text-center">${slide.title}</h2>
                                        ${createPunnettSquare(false)}`;
                        break;
                    case 'punnett_result':
                        slideContent = `<h2 class="text-4xl font-bold mb-8 text-center">${slide.title}</h2>
                                       <div class="grid md:grid-cols-2 gap-8 w-full items-center">
                                            ${createPunnettSquare(true)}
                                           <div class="text-xl space-y-3">${slide.text.join('<br>')}</div>
                                       </div>`;
                        break;
                    case 'table':
                        slideContent = `<h2 class="text-4xl font-bold mb-8 text-center">${slide.title}</h2>
                                        <table class="w-full text-left border-collapse">
                                            <thead><tr class="bg-slate-200">
                                                ${slide.headers.map(h => `<th class="p-3 border border-slate-300">${h}</th>`).join('')}
                                            </tr></thead>
                                            <tbody>
                                                ${slide.rows.map(row => `<tr>${row.map(cell => `<td class="p-3 border border-slate-300">${cell}</td>`).join('')}</tr>`).join('')}
                                            </tbody>
                                        </table>`;
                        break;
                    case 'quiz':
                        slideContent = `<h2 class="text-4xl font-bold mb-6">${slide.title}</h2>
                                      <p class="text-xl mb-6 w-full max-w-3xl">${slide.question}</p>
                                      <div id="quiz-${index}-options" class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-3xl">
                                          ${slide.options.map((opt, i) => `<button class="quiz-option p-4 border rounded-lg text-lg text-left" data-index="${i}">${opt}</button>`).join('')}
                                      </div>
                                      <div id="quiz-${index}-feedback" class="mt-4 text-xl font-bold h-8"></div>`;
                        break;
                     case 'final':
                        slideContent = `<h2 class="text-4xl font-bold mb-8">${slide.title}</h2>
                                        <p class="text-2xl mb-12">${slide.text}</p>
                                        <p class="text-3xl font-bold">${slide.closing}</p>`;
                        break;

                }
                content += `<div class="slide p-4 w-full" id="slide-${index}">${slideContent}</div>`;
            });
            presentationContainer.insertAdjacentHTML('afterbegin', content);
        }

        function showSlide(index) {
            document.querySelectorAll('.slide').forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            slideCounter.textContent = `${index + 1} / ${slidesData.length}`;
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === slidesData.length - 1;
            
            // Re-init quiz if it's a quiz slide
            const slideData = slidesData[index];
            if (slideData.type === 'quiz') {
                setupQuiz(index, slideData.answer);
            }
        }
        
        function setupQuiz(index, correctIndex) {
            const optionsContainer = document.getElementById(`quiz-${index}-options`);
            const feedback = document.getElementById(`quiz-${index}-feedback`);
            
            // Clone and replace to remove old event listeners
            const newOptionsContainer = optionsContainer.cloneNode(true);
            optionsContainer.parentNode.replaceChild(newOptionsContainer, optionsContainer);
            
            const options = newOptionsContainer.querySelectorAll('.quiz-option');

            options.forEach(option => {
                option.addEventListener('click', () => {
                    options.forEach(opt => {
                        opt.disabled = true;
                        opt.classList.remove('selected');
                    });
                    
                    option.classList.add('selected');
                    const selectedIndex = parseInt(option.dataset.index);

                    if (selectedIndex === correctIndex) {
                        option.classList.add('correct');
                        feedback.textContent = "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘";
                        feedback.style.color = '#10b981';
                    } else {
                        option.classList.add('incorrect');
                        feedback.textContent = "ì•„ì‰½ë„¤ìš”. ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ ë³´ì„¸ìš”.";
                        feedback.style.color = '#ef4444';
                        // Show correct answer
                        options[correctIndex].classList.add('correct');
                    }
                }, { once: true }); // Ensure listener fires only once
            });
        }


        prevBtn.addEventListener('click', () => {
            if (currentSlide > 0) {
                currentSlide--;
                showSlide(currentSlide);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentSlide < slidesData.length - 1) {
                currentSlide++;
                showSlide(currentSlide);
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextBtn.click();
            } else if (e.key === 'ArrowLeft') {
                prevBtn.click();
            }
        });

        // Initial render
        renderSlides();
        showSlide(currentSlide);
    </script>

</body>
</html>
